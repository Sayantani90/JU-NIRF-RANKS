<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jadavpur University â€” NIRF Rankings (2017â€”2025)</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Link external CSS -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="header">
    <h1>Jadavpur University</h1>
    <p>NIRF Rankings 2017 onwards</p>
  </div>

  <div class="container">
    <!-- Best Rank Cards -->
    <div id="best-cards" class="stats-grid"></div>

    <!-- Ranks Table -->
<div class="table-container">
  <table id="ranksTable" aria-label="NIRF category ranks by year">
    <thead>
      <tr>
        <th>CATEGORY</th>
        <th class="highlight-year">2025</th>
        <th>2024</th>
        <th>2023</th>
        <th>2022</th>
        <th>2021</th>
        <th>2020</th>
        <th>2019</th>
        <th>2018</th>
        <th>2017</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>Overall</td><td class="highlight-year">18</td><td>17</td><td>13</td><td>12</td><td>14</td><td>12</td><td>13</td><td>13</td><td>12</td></tr>
      <tr><td>University</td><td class="highlight-year">9</td><td>9</td><td>4</td><td>4</td><td>8</td><td>5</td><td>6</td><td>6</td><td>5</td></tr>
      <tr><td>Engineering</td><td class="highlight-year">18</td><td>12</td><td>10</td><td>11</td><td>17</td><td>17</td><td>14</td><td>12</td><td>9</td></tr>
      <tr><td>Research</td><td class="highlight-year">23</td><td>21</td><td>19</td><td>13</td><td>17</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
      <tr><td>Pharmacy</td><td class="highlight-year">24</td><td>18</td><td>18</td><td>18</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
      <tr><td>State Public University</td><td class="highlight-year">1</td><td>2</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
      <tr><td>Architecture</td><td class="highlight-year">16</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td><td>â€”</td></tr>
    </tbody>
  </table>
</div>

    <!-- Chart -->
    <div class="chart-container">
      <div class="chart-header">
        <h3>ðŸ“ˆ NIRF Rankings Trend (2017â€”2025)</h3>
        <button class="download-btn" id="dlBtn">Download as JPEG</button>
      </div>
      <canvas id="trendChart"></canvas>
      <div class="legend">
        <div class="legend-item"><span style="background:#e74c3c"></span> Overall</div>
        <div class="legend-item"><span style="background:#3498db"></span> University</div>
        <div class="legend-item"><span style="background:#2ecc71"></span> Engineering</div>
        <div class="legend-item"><span style="background:#8e44ad"></span> Research</div>
        <div class="legend-item"><span style="background:#f39c12"></span> Pharmacy</div>
        <div class="legend-item"><span style="background:#1abc9c"></span> State Public Univ.</div>
        <div class="legend-item"><span style="background:#8e6e53"></span> Architecture</div>
      </div>
    </div>

    <!-- Navigation Section -->
	<div>
	  <a href="ju_nirf_metrics_2025.html" 
           style="display: inline-flex; 
                  align-items: center; 
                  gap: 0.75rem; 
                  padding: 1rem 2.5rem; 
                  background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); 
                  color: white; 
                  text-decoration: none; 
                  font-size: 1.1rem; 
                  font-weight: 600; 
                  border-radius: 50px; 
                  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
                  box-shadow: 0 8px 25px rgba(46, 204, 113, 0.4);"
           onmouseover="this.style.transform='translateY(-3px) scale(1.05)'; 
                        this.style.boxShadow='0 15px 40px rgba(46, 204, 113, 0.6)'; 
                        this.style.background='linear-gradient(135deg, #27ae60 0%, #2ecc71 100%)';"
           onmouseout="this.style.transform='translateY(0) scale(1)'; 
                       this.style.boxShadow='0 8px 25px rgba(46, 204, 113, 0.4)'; 
                       this.style.background='linear-gradient(135deg, #2ecc71 0%, #27ae60 100%)';"
           onmousedown="this.style.transform='translateY(-1px) scale(1.02)';"
           onmouseup="this.style.transform='translateY(-3px) scale(1.05)';">
          <span>Go To Detailed Analysis: 2024 Ranking</span>
          <span style="font-size: 1.3rem; transition: transform 0.3s ease;" 
                onmouseover="this.style.transform='translateX(5px)';"
                onmouseout="this.style.transform='translateX(0)';">â†’</span>
        </a>
	</div>  

	
  <script>
    

    // ===== Utilities =====
    const YEARS = [2017,2018,2019,2020,2021,2022,2023,2024,2025];
    function parseCell(txt){ const t=String(txt).trim(); if(!t || t==='â€”' || t==='-') return null; const n=Number(t); return Number.isFinite(n)? n : null; }
    function toAscending(arr){ return [...arr].reverse(); }
    function getRowData(tr){
      const tds=[...tr.querySelectorAll('td')];
      const name=tds[0].textContent.trim();
      const values=tds.slice(1).map(td=>parseCell(td.textContent));
      return { name, valuesDesc: values, valuesAsc: toAscending(values) };
    }

    const targetBest = new Set(['Overall','University','Engineering','Research','State Public University']);
    const tbody = document.querySelector('#ranksTable tbody');
    const rows = [...tbody.querySelectorAll('tr')];
    const data = rows.map(getRowData);
    const bestCardsWrap = document.getElementById('best-cards');
    bestCardsWrap.innerHTML = '';

    data.forEach(({name, valuesDesc})=>{
      if(!targetBest.has(name)) return;
      const valid = valuesDesc.filter(v=>v!==null);
      if (valid.length === 0) return;
      const best = Math.min(...valid);
      const yearsDesc = [2025,2024,2023,2022,2021,2020,2019,2018,2017];
      const bestYears = yearsDesc.filter((yr,idx)=>valuesDesc[idx]===best);
      const card = document.createElement('div');
      card.className='stat-card fade-in';
      card.innerHTML = `<h4>BEST ${name.toUpperCase()} RANK</h4>
                        <div class="number">${best}</div>
                        <div class="subtitle">${bestYears.join(', ')}</div>`;
      bestCardsWrap.appendChild(card);
    });

    const COLORS = {
      'Overall': '#e74c3c',
      'University': '#3498db',
      'Engineering': '#2ecc71',
      'Research': '#8e44ad',
      'Pharmacy': '#f39c12',
      'State Public University': '#1abc9c',
      'Architecture': '#8e6e53',
    };

    const datasets = data.map(({name, valuesAsc})=> ({
      label: name,
      data: valuesAsc.map(v=>v===null? null : v),
      borderColor: COLORS[name] || '#555',
      backgroundColor: (COLORS[name] || '#555') + '20',
      spanGaps: true,
      tension: 0.3,
      pointRadius: 4,
      pointHoverRadius: 6,
      borderWidth: 2.5,
      pointBackgroundColor: COLORS[name] || '#555',
      pointBorderColor: '#fff',
      pointBorderWidth: 2,
    }));

    const ctx = document.getElementById('trendChart').getContext('2d');
    let chart;
    try {
      chart = new Chart(ctx, {
        type: 'line',
        data: { labels: YEARS, datasets },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          interaction: { mode: 'nearest', intersect: false },
          scales: {
            y: { reverse: true, min: 0, max: 30, ticks: { stepSize: 5 } },
            x: { title: { display: true, text: 'Year' } }
          }
        }
      });
    } catch (error) {
      console.error('Chart error:', error);
    }

    document.getElementById('dlBtn').addEventListener('click', ()=>{
      if (!chart) return alert('Chart not available');
      const link = document.createElement('a');
      link.download = 'ju_nirf_trend_2017_2025.jpg';
      link.href = chart.toBase64Image('image/jpeg', 1.0);
      link.click();
    });

    
  </script>
</body>
</html>
